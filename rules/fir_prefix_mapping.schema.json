{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://briefingbuddy.local/schemas/fir_prefix_mapping.schema.json",
  "title": "FIR NOTAM Prefix + Keyword Rules",
  "type": "object",
  "required": [
    "version",
    "prefixToGroup"
  ],
  "properties": {
    "version": {
      "type": "string"
    },
    "prefixToGroup": {
      "type": "object",
      "description": "Maps NOTAM ID first-letter prefixes (E/L/F/H/G/W) to FIR NotamGroup values.",
      "propertyNames": {
        "type": "string",
        "pattern": "^[A-Z]$"
      },
      "additionalProperties": {
        "type": "string",
        "enum": [
          "firAirspaceRestrictions",
          "firAtcNavigation",
          "firObstaclesCharts",
          "firInfrastructure",
          "firDroneOperations",
          "firAdministrative"
        ]
      }
    },
    "secondaryKeywords": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "group",
          "pattern"
        ],
        "properties": {
          "group": {
            "type": "string",
            "enum": [
              "firAirspaceRestrictions",
              "firAtcNavigation",
              "firObstaclesCharts",
              "firInfrastructure",
              "firDroneOperations",
              "firAdministrative"
            ]
          },
          "pattern": {
            "type": "string"
          },
          "weight": {
            "type": "number",
            "default": 1
          },
          "notes": {
            "type": "string"
          }
        },
        "additionalProperties": false
      }
    }
  },
  "additionalProperties": false
}